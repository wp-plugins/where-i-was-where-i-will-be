function upload_media(e,t,n,i){var a;return e.preventDefault(),a?void a.open():(a=wp.media.frames.file_frame=wp.media({title:wiw_vars.wiw_choose_image,button:{text:wiw_vars.wiw_choose_image},multiple:!1}),a.on("select",function(){attachment=a.state().get("selection").first().toJSON(),jQuery(t).val(attachment.url),jQuery(n).html('<img src="'+attachment.url+'" class="'+i+'" />')}),void a.open())}function loadingDiv(e,t){jQuery(e).html('<div class="w100p"><strong><img src="'+t+'ajax-loader.gif" /> '+wiw_vars.wiw_loading+"...</strong></div>")}function imgError(e){return e.onerror="",e.src=wiw_vars.wiw_dir_images+"flags/none.png",!0}function return_replaceable_text(e,t){var n=jQuery("#"+e).getCursorPosition(),i=jQuery("#"+e).val(),a=jQuery("#"+t).val();"%image%"==a?a='<img src="'+a+'" />':"%url%"==a&&(a='<a href="'+a+'">Link</a>');var s=i.substr(0,n)+a+i.substr(n);jQuery("#"+e).val(s)}function btn_edit_type(e){var t=jQuery("#wiw_type_name_hidden"+e).val(),n='<input id="type_name'+e+'" name="type_name'+e+'" value="'+t+'" class="w100p wiw_input_text"/>';jQuery("#wiw_type_name"+e).html(n),jQuery("input[name='type_custom_pin"+e+"']").css("display","block"),jQuery("#action"+e).css("display","none"),jQuery("#action_delete"+e).css("display","none"),jQuery("#action_edit"+e).css("display","block")}function btn_edit_cancel_type(e){var t=jQuery("#wiw_type_name_hidden"+e).val(),n=jQuery("#wiw_type_pin_hidden"+e).val();jQuery("#wiw_type_name"+e).html(t),jQuery("#type_pin_preview"+e).html('<img src="'+n+'" class="wiw_admin_pin">'),jQuery("#action"+e).css("display","block"),jQuery("#action_edit"+e).css("display","none"),jQuery("#action_delete"+e).css("display","none"),jQuery("input[name='type_custom_pin"+e+"']").css("display","none")}function btn_delete_type(e){jQuery("#action"+e).css("display","none"),jQuery("#action_delete"+e).css("display","block"),jQuery("#action_edit"+e).css("display","none")}function btn_delete_cancel_type(e){jQuery("#action"+e).css("display","block"),jQuery("#action_edit"+e).css("display","none"),jQuery("#action_delete"+e).css("display","none")}function btn_delete_local(e){jQuery("#action"+e).css("display","none"),jQuery("#action_delete"+e).css("display","block")}function btn_delete_cancel_local(e){jQuery("#action"+e).css("display","block"),jQuery("#action_delete"+e).css("display","none")}!function(e){e.fn.getCursorPosition=function(){var t=e(this).get(0),n=0;if("selectionStart"in t)n=t.selectionStart;else if("selection"in document){t.focus();var i=document.selection.createRange(),a=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),n=i.text.length-a}return n}}(jQuery);