function show_map(e,o,a,n){var t,s;t=new google.maps.Geocoder,get_info=new google.maps.Geocoder;var r=new google.maps.LatLng(a,n),g={zoom:12,center:r};s=new google.maps.Map(document.getElementById(o),g),jQuery("#"+o).addClass("wiw_map_local"),code_address(s,e,t,get_info)}function code_address(e,o,a,n){var t=document.getElementById("get_info"+o).value,s=wiw_vars.wiw_google_maps_error;a.geocode({address:t},function(a,t){if(t==google.maps.GeocoderStatus.OK){e.setCenter(a[0].geometry.location);var r=new google.maps.Marker({map:e,position:a[0].geometry.location,draggable:!0});google.maps.event.addListener(r,"dragend",function(){show_marker_info(o,r,n,s)}),show_marker_info(o,r,n,s)}else alert(s+": "+t)})}function show_flag(e,o,a){jQuery("#"+e).html('<img src="'+WIW_DIR_IMAGES+"/flags/"+o+'.png" class="'+a+'" onerror="imgError(this);">')}function show_marker_info(e,o,a,n){var t=o.position.k,s=o.position.D,r=new google.maps.LatLng(t,s);a.geocode({latLng:r},function(o,a){if(a==google.maps.GeocoderStatus.OK){for(var r=0,g=0,l=0;l<o[0].address_components.length;l++)for(var d=0;d<o[0].address_components[l].types.length;d++){if("locality"==o[0].address_components[l].types[d]&&0==r){var m=o[0].address_components[l];r=1}if("country"==o[0].address_components[l].types[d]&&0==g){var i=o[0].address_components[l];g=1}if(1==r&&1==g)break}jQuery("#latitude"+e).val(t),jQuery("#longitude"+e).val(s),jQuery("#city"+e).val(void 0!==m?m.long_name:""),void 0!==i?(jQuery("#country"+e).val(i.long_name),jQuery("#flag"+e).val(i.short_name.toLowerCase()),show_flag("show_flag"+e,i.short_name.toLowerCase(),"flag_preview")):(jQuery("#country"+e).val(""),jQuery("#flag"+e).val(""))}else alert(n+": "+a)})}function auto_complete(e,o,a){var n,t=new google.maps.LatLngBounds(new google.maps.LatLng(o,a),new google.maps.LatLng(o,a));n=new google.maps.places.Autocomplete(document.getElementById(e),{types:["geocode"]}),n.setBounds(t)}